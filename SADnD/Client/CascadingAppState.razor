@using System.Security.Claims

<CascadingValue Value="this">
    @ChildContent
</CascadingValue>

@code {
    [CascadingParameter]
    public Task<AuthenticationState> authenticationStateTask { get; set; }
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    public string UserId { get; set; }
    public IEnumerable<Claim> Claims { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var result = authenticationStateTask.Result;
        Claims = result.User.Claims;
        UserId = Claims.Where(x => x.Type == "sub").FirstOrDefault().Value;
    }
}
